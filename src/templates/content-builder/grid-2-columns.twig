{# Set the column sizes #}
{% set sizes = ['col-1-1 col-1-2-sm', 'col-1-1 col-1-2-sm'] %}
{% if fields.columnSizes == '1/3-2/3' %}
    {% set sizes = ['col-1-1 col-1-2-sm col-1-3-md', 'col-1-1 col-1-2-sm col-2-3-md'] %}
{% elseif fields.columnSizes == '2/3-1/3' %}
    {% set sizes = ['col-1-1 col-1-2-sm col-2-3-md', 'col-1-1 col-1-2-sm col-1-3-md'] %}
{% elseif fields.columnSizes == '1/4-3/4' %}
    {% set sizes = ['col-1-1 col-1-2-sm col-1-4-md', 'col-1-1 col-1-2-sm col-3-4-md'] %}
{% elseif fields.columnSizes == '3/4-1/4' %}
    {% set sizes = ['col-1-1 col-1-2-sm col-3-4-md', 'col-1-1 col-1-2-sm col-1-4-md'] %}
{% endif %}

{# Set the vertical alignment #}
{% set alignment = '' %}
{% if fields.verticalAlignment == 'center' %}
    {% set alignment = ' align-center' %}
{% elseif fields.verticalAlignment == 'bottom' %}
    {% set alignment = ' align-end' %}
{% endif %}

{# Build the grid #}
<div class="Container Container--pad">
    <div class="grid g-4 nc-1 nc-2-sm{{ alignment }}">
        {% for key, column in columns %}
            <div class="{{ sizes[key] }}">
                {% for element in column.elements %}
                    {{ element.content }}
                {% endfor %}
            </div>
        {% endfor %}
    </div>
</div>